# 系统设计学习笔记

## 前言

设计一个系统需要分步骤

1. 需求明确 requirements clarifications
2. 需求评估/系统量级
3. 系统接口定义
4. 数据模型定义
5. 顶层设计
6. 详细设计
7. 确定瓶颈问题
8. 总结一次设计

就像是做数学题一样，处理现实生活中的复杂事项时，我们也有各种各样的公式。上述的内容是系统设计问题需要分步骤考虑的。

这里我们讨论的是SDI(system)，大家要明确一点的就是，系统设计是一个开放性的问题。比如让你设计一个社交软件app，现在app商店内就有无数的设计软件了，你的思路可以从这些app上得到一些启发。

但首先就是要澄清你的需求

- 互相关注、点赞
- 是否有视频、音频、图片
- 只设计系统逻辑还是说要结合前端用户操作
- 搜索带有哪些功能
- 朋友圈的功能

以上只是一些反问。实际上你越早澄清这些内容越好，需求的内容是你设计的基石。比如纯文本的消息和带有视频、音频的就有很大不一样，传输格式、存储方式、压缩格式等等都成为新的考虑点。

然后就是明确系统的量级

- 接口并发访问量、峰值访问量
- 带宽限制
- 负载均衡
- 存储容量
- 实时性

接着大概定义你需要的接口、数据模型，根据访问的类型的不一样，我们可能选择的数据库类型也不一样。

顶层设计需要我们把系统结构绘制出来。主要的各个模块，能够体现数据流动、负载分配、数据存储等等。

详细设计是把上面提到的考虑作为工作进行铺开，详细决定每个模块所处理的事情。做完详细设计之后我们还要考虑我们系统的短板在哪里。毕竟水桶能装的水是由最短的那块木板决定的。

可能存在短板的地方

- 线程池的容量
- 网络不通
- 单点故障 single point of failure
- 性能监控
- 扩容

总之，在设计一款软件之前，充足的知识储备和持续训练，能够帮助你快速作出最佳反应。
